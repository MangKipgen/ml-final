(this["webpackJsonpml-final"]=this["webpackJsonpml-final"]||[]).push([[0],{32:function(e,n,t){},42:function(e,n,t){},43:function(e,n,t){},47:function(e,n,t){},48:function(e,n,t){"use strict";t.r(n);var i=t(8),r=t.n(i),c=t(20),a=t.n(c),s=(t(32),t(27)),l=t(17),o=t(26),d=(t(42),t(43),t(7));function j(e){var n=e.details,t=e.setOverlay,i=n.name;return Object(d.jsxs)("div",{className:"Overlay",children:[Object(d.jsx)("button",{onClick:function(){t(null)},children:"Close"}),Object(d.jsx)("h1",{children:i}),Object(d.jsx)("img",{src:"./images/"+i+".jpg"})]})}var h=t(12);t(47);var u=function(){var e=Object(i.useRef)(null),n=Object(i.useState)(null),t=Object(s.a)(n,2),r=t[0],c=t[1];return Object(i.useEffect)((function(){var n=new l.a({width:window.innerWidth,height:window.innerHeight,view:e.current}),t=new o.a({screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:3e3,worldHeight:2e3,interaction:n.renderer.plugins.interaction});n.stage.addChild(t),t.drag().pinch().wheel().decelerate();var i={};fetch("./images.json").then((function(e){return e.json()})).then((function(e){for(var r=0;r<e.length;r++){var a=e[r].filename.replace(/\//g,"_"),s=a.replace(".jpg","");n.loader.add(s,"./resized/"+a),e[r].name=s,i[s]=e[r]}n.loader.load((function(e,r){var a=function(e){var a=new l.b(r[e].texture),s=i[e].cluster_pos;a.x=5*n.renderer.width*(3*s[0]-1),a.y=5*n.renderer.width*(3*s[1]-1),a.interactive=!0;var o=e;a.on("click",(function(){c(i[o])})),t.addChild(a),t.fit(),t.moveCenter(a.x,a.y)};for(var s in r)a(s)}))}))}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("canvas",{ref:e}),r&&Object(d.jsx)(j,{details:r,setOverlay:c}),Object(d.jsxs)(h.a,{children:[Object(d.jsx)("title",{children:"British Museum Collection"}),Object(d.jsx)("meta",{name:"description",content:"App Description"}),Object(d.jsx)("meta",{name:"theme-color",content:"#D3D3D3"}),"// ",Object(d.jsx)("body",{class:"light","data-react-helmet":"class"})]}),Object(d.jsx)("main",{})]})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(u,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.ebb32257.chunk.js.map